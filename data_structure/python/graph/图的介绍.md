# 图的介绍

图结构是一种重要的非线性数据结构，它由节点（顶点）和连接这些节点的边（边）组成。

节点之间的连接可以是有向的，也可以是无向的。

图结构可以用来表示网络拓扑结构、社交网络、地理地图等各种实际问题中的关系。

在图结构中，节点也被称为顶点，边也被称为弧或者边缘。顶点之间的关系可以用边来表示，边可以带有权重，表示顶点之间的距离或者相关度。

图结构可以分为**有向图和无向图**，有向图中边有方向，而无向图中边没有方向。

## 图与其他数据结构（特别是树结构）

图结构与其他数据结构的相似之处在于，它们都是用来存储和表示数据之间的关系的。在树结构中，每个节点只有一个父节点，而在图结构中，节点之间的关系可以是多对多的。

图结构与其他数据结构的不同之处在于它的灵活性和复杂性。图结构可以使用不同的表示方法，如邻接矩阵和邻接表，而树结构通常是用嵌套的节点表示。另外，图结构中存在环路，而树结构中不存在环路。图结构中的节点之间可以有多种关系，而树结构中节点之间只有一种关系（父子关系）。

## 图的分类

### 无向图（Undirected Graph）

无向图是由一组节点和一组边组成的图结构。在无向图中，边没有方向性。边只是连接两个节点，没有特定的起点和终点。

在无向图中，边可以看作是连接两个顶点的线段，表示两个顶点之间的对等关系。

例如，地铁网络中的地铁站和线路之间的连接关系可以用无向图表示。地铁站之间的连接是双向的，乘客可以从一个地铁站到另一个地铁站，因此适合用无向图来表示。

无向图具有以下特点：

- 边没有方向性，表示连接两个顶点之间的对等关系。
- 顶点之间的关系是双向的，如果存在一条连接顶点A和顶点B的边，那么同时也存在一条连接顶点B和顶点A的边。

### 有向图（Directed Graph）

有向图是由一组节点和一组有方向的边组成的图结构。

在有向图中，每条边都有一个方向，从一个节点指向另一个节点。每条边包含两个顶点（起点和终点）。

有向图通常用箭头表示边的方向。

例如，社交网络中的关注关系可以用有向图表示。如果用户A关注了用户B，则在有向图中可以表示为从A到B的一条有向边。

有向图具有以下特点：

- 边有方向，表示从一个顶点到另一个顶点的关系。
- 顶点之间的关系是单向的，如果存在一条从顶点A到顶点B的边，不代表一定存在一条从顶点B到顶点A的边。

## 图的特点

### 顶点的度、入度和出度

在图结构中，顶点的度（Degree）、入度（In-degree）和出度（Out-degree）是描述顶点连接关系的重要概念。

- 顶点的度（Degree）：

    顶点的度是指与该顶点相邻的边的数量。

    在无向图中，顶点的度表示与该顶点直接相连的边的数量，即以该顶点为端点的边数目。边的度和顶点的度有着直接的关系，因为一条边连接两个顶点，所以一个顶点的度就是与其相邻的边的数量。

- 顶点的入度（In-degree）：

    对于有向图中的一个顶点，入度是指以该顶点为终点的边的数量。换句话说，入度表示有多少条边指向该顶点。顶点的入度用来描述其他顶点指向该顶点的情况。

- 顶点的出度（Out-degree）：

    对于有向图中的一个顶点，出度是指以该顶点为起点的边的数量。换句话说，出度表示有多少条边从该顶点出发。顶点的出度用来描述该顶点指向其他顶点的情况。

总结一下：

- 顶点的度是指与该顶点相连的边的数量，在无向图中表示相邻的边的数量，在有向图中分为入度和出度。
- 顶点的入度是指以该顶点为终点的边的数量，表示有多少条边指向该顶点。
- 顶点的出度是指以该顶点为起点的边的数量，表示有多少条边从该顶点出发。

### 边的权

边的权（Weight）是描述图结构的重要概念，用来表示连接顶点的边的属性。

- 边的权（Weight）：
    边的权是指与边相关联的数值或成本。在有权图（Weighted Graph）中，每条边都被赋予一个权重，这个权重可以代表边的长度、成本、时间等。

    将边与权重相关联可以使我们在进行图算法时考虑到边的属性，从而更好地解决实际问题。

    在具体的应用中，边的权可以表示不同的含义，例如：

    1. 在路径规划中，权重可以表示两个顶点之间的距离或行驶时间。
    2. 在网络流问题中，权重可以表示边的容量或流量。
    3. 在社交网络中，权重可以表示两个人之间的关系强度。

## 图的存储方式

### 邻接矩阵法

邻接矩阵是一种常用的图的表示方法，特别适用于稠密图（边数接近于顶点数的平方）。

在邻接矩阵中，图中的顶点用矩阵的行和列来表示，矩阵中的元素表示两个顶点之间是否存在边，以及边的权重（对于带权图）。

如果两个顶点之间存在边，则对应位置的元素值为1（或者是边的权重值），否则为0（或者是一个特殊值表示不存在边）。

对于无向图，邻接矩阵是一个对称矩阵，因为边是双向的；对于有向图，邻接矩阵则不一定是对称的。

下面分别介绍邻接矩阵建图方法：

1. 无向图的邻接矩阵建图方法：
    - 创建一个N*N的矩阵，其中N为图中顶点的个数。
    - 如果顶点i和顶点j之间存在边，则在矩阵的第i行第j列和第j行第i列对应位置的元素值设为1（或者是边的权重值）。
    - 如果顶点i和顶点j之间不存在边，则对应位置的元素值设为0。

2. 有向图的邻接矩阵建图方法：
    - 创建一个N*N的矩阵，其中N为图中顶点的个数。
    - 如果有向边从顶点i指向顶点j，则在矩阵的第i行第j列的位置的元素值设为1（或者是边的权重值）。
    - 如果不存在从顶点i到顶点j的有向边，则对应位置的元素值设为0。

3. 带权图的邻接矩阵建图方法：
    - 创建一个N*N的矩阵，其中N为图中顶点的个数。
    - 如果顶点i和顶点j之间存在边，并且边的权重为w，则在矩阵的第i行第j列和第j行第i列对应位置的元素值设为w。
    - 如果顶点i和顶点j之间不存在边，则对应位置的元素值设为一个特殊值（如无穷大）或者0。

### 邻接表法

图的邻接表存储法是一种常用的图的表示方法，用于表示图中各个顶点之间的关系，**特别适用于稀疏图或有向图**。

在邻接表中，图的每个顶点都与一个列表相关联，该列表存储了与该顶点直接相连的所有顶点。

- 对于一个无向图，邻接表的每个顶点对应一个链表，链表中存储了与该顶点相邻的所有顶点；
- 对于有向图，邻接表中的每个顶点对应一个链表，链表中存储了从该顶点出发的所有边的终点顶点。

邻接表的存储形式可以是使用字典或哈希表，也可以是使用数组和链表等数据结构。在字典或哈希表中，图中的每个顶点都可以通过一个键值对应到其邻接表；在数组和链表中，各个顶点可以通过数组的索引来达到。

邻接表存储图的优点包括：

- 节省存储空间：

    对于稀疏图（边数相对于顶点数较少）而言，邻接表能够节省存储空间，因为只需存储实际存在的边和顶点之间的关系。

- 方便查找相邻顶点：

    对于某个顶点，通过邻接表可以快速查找到与其相邻的顶点，遍历相邻顶点也更为高效。

## 图的遍历方法

### 深度优先遍历

图的深度优先搜索（Depth First Search），简称 DFS。

从初始访问节点出发，初始访问节点可能有多个 邻接节点（直连），深度优先遍历的策略为：

- 首先访问第一个邻接节点
- 然后以这个 被访问的邻接节点作为初始节点
- 然后循环这个操作。
- 可以这样理解：每次都在访问完当前节点后，首先访问当前节点的第一个邻接节点。

可以看到：这样的访问策略是**优先往纵向**挖掘深入，而不是对一个节点的所有邻接节点进行**横向访问**。

那么显然深度优先搜索是一个**递归过程**

思路小节：

- 先从一个初始节点开发深度优先查找
- 然后找到该节点的第一个邻接节点，找到则继续深度优先
- 如果找不到，则会 回溯：那么尝试该节点的其他路径是否可以连通。
- 直到回溯到最顶层，然后退出该次 深度优先查找函数。挑选下一个初始节点如果没有访问过，则调用深度优先函数

### 广度优先遍历

广度优先搜索（BFS）是一种用于图和树的遍历算法，它从根节点开始，先访问当前节点的所有子节点，然后再依次访问子节点的子节点，以此类推，直到遍历完整个图或树。

具体步骤如下：

- 将起始节点放入队列中。
- 从队列中取出一个节点，访问该节点。
- 查找该节点的所有邻接节点并且未被访问过，并将这些节点放入队列中。
- 重复步骤2和步骤3，直到队列为空。

在实际应用中，广度优先搜索常用于寻找最短路径，如在迷宫中找到从起点到终点的最短路径等。由于广度优先搜索会先遍历当前节点的所有邻接节点，因此对于需要遍历整个图的情况下，其最终结果会是按照层级依次遍历的
